# This is the main Samba configuration file.
#
# It was dynamically generated by Chef on "<%= node['fqdn'] %>"
#
# Local modifications will be overwritten by Chef.
#

[global]
server string = <%= node['samba']['server_string'] %>
netbios name = <%= node['samba']['netbios_name'] %>
workgroup = <%= node['samba']['workgroup'] %>
interfaces = <%= node['samba']['interfaces'] %>
bind interfaces only = <%= node['samba']['bind_interfaces_only'] %>
hosts allow = <%= node['samba']['hosts_allow'] %>
dns proxy = <%= node['samba']['dns_proxy'] %>
security = <%= node['samba']['security'] %>
printing = <%= node['samba']['printing'] %>
printcap name = <%= node['samba']['printcap_name'] %>

# symlinks
follow symlinks = <%= node['samba']['follow_symlinks'] %>
wide links = <%= node['samba']['wide_links'] %>
unix extensions = <%= node['samba']['unix_extensions'] %>

# windows support
case sensitive = <%= node['samba']['case_sensitive'] %>
hide dot files = <%= node['samba']['hide_dot_files'] %>
map archive = <%= node['samba']['map_archive'] %>
map system = <%= node['samba']['map_system'] %>
map hidden = <%= node['samba']['map_hidden'] %>
nt acl support = <%= node['samba']['nt_acl_support'] %>

# socket
socket options = <%= node['samba']['socket_options'] %>

# ============================ Share Definitions ==============================

<% @shares.each do |share, option| -%>
[<%= share %>]

  <% option.each do |o, v| -%>
  <%= o %> = <%= v.respond_to?(:join) ? v.join(',') : v %>
  <% end -%>

<% end -%>
